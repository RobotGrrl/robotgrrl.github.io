<!-- "Nitwit! Blubber! Oddment! Tweak!" - Albus Dumbledore -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>RobotGrrl - Fab Academy 2015</title>

    <link href="css/style.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-theme.min.css" rel="stylesheet">

    <script src="js/jquery-1.11.2.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>

    <script>
    function menu() {
      $('#assignments').load("assignments_menu.html");
      $('#project').load("project_menu.html");
      $('#links').load("links_menu.html");
      $('#footer').load("footer.html");
    }
    </script>

  </head>
  <body onload="menu()">


    <!-- nav start -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</pre>
            <span class="icon-bar"></pre>
            <span class="icon-bar"></pre>
            <span class="icon-bar"></pre>
          </button>
          <a class="navbar-brand" href="index.html">RobotGrrl - Fab Academy 2015</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Final Project <span class="caret"></pre></a>
              <ul id="project" class="dropdown-menu" role="menu">
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Assignments <span class="caret"></pre></a>
              <ul id="assignments" class="dropdown-menu" role="menu">
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Links <span class="caret"></pre></a>
              <ul id="links" class="dropdown-menu" role="menu">
              </ul>
            </li>

            <li><a href="about.html">About</a></li>

            <li><a href="http://fabacademy.org" target="_blank">Fab Academy</a></li>
            

          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <!-- nav end -->


    <div class="container">

      <div class="row">

      <div class="col-md-1">
        &nbsp;
      </div>

      <div class="col-md-10">

        <div class="page-header">
          <h3>Final Project Prototyping</h3><br>
        </div>

        <p><i>Page still under construction</i></p>

        <br>

        <h3>Final result</h3>

        <iframe src="https://vine.co/v/eOZMHBL3xg9/embed/simple" width="480" height="480" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>

        <img src="images/update11/final_prototyping16_2.jpg" />




        <hr>

        <h3>Making Of</h3>

        <p>Making the final project took place over a few days. It was crazy. Here are a lot of photos and thoughts from during the process. Sorry in advance if it's too many photos...</p>


        <hr>


        <h3>Pieces Prototyping</h3>

        <p>Assembled view:</p>

        <img src="images/update11/final_prototyping1_7.jpg" />

        <p>All of the pieces for the first iteration. It's one side, the base, and a few of the vertical related pieces:</p>

        <img src="images/update11/final_prototyping1_4.jpg" />

        <p>Partially assembled:</p>

        <img src="images/update11/final_prototyping1_5.jpg" />

        <p>The rectangle extrudes w/ slots on the side piece were too close to the border, so it prevented the topper piece from going over it:</p>

        <img src="images/update11/final_prototyping1_1.jpg" />

        <p>And also the size piece or any other piece that will be there in the future:</p>

        <img src="images/update11/final_prototyping1_2.jpg" />

        <p>The solution was to just move it in the design by 2mm in both directions (and decrease its size by 2mm also, so that way it wouldn't mess up the side sizer estimate piece).</p>

        <p>The holes on this piece are for the flexible connector to be insert. Except that it's blocked by the diagonal extrude on the vertical piece:</p>

        <img src="images/update11/final_prototyping1_3.jpg" />

        <p>This idea of connecting the sides to the top to hold it as a cube did not work out. Not rigid enough, and the hooks kept falling out too:</p>

        <img src="images/update11/final_prototyping1_9.jpg" />

        <p>The side size estimator piece gets caught on the diagonal extrudes:</p>

        <img src="images/update11/final_prototyping1_6.jpg" />

        <p>Another angle:</p>

        <img src="images/update11/final_prototyping1_8.jpg" />

        <p>The size from the center of the base to the side is > 5 cm...</p>

        <img src="images/update11/final_prototyping1_10.jpg" />

        <p>The height is exactly 10cm, but the width and length will have to be brought in a bit. Currently thinking of going for 20mm. Will also have to remember to resize the plates too.</p>



        <hr>


        <h3>Folding Mechanism Idea</h3>


        <p>Tried out a way to make one of the sides fold inwards:</p>

        <iframe src="https://vine.co/v/eMBnOllqdeY/embed/simple" width="480" height="480" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>

        <p>It uses a winch on a small motor. It might only be strong enough for one side.</p>

        <img src="images/update11/final_prototyping2_3.jpg" />

        <p>One of the problems with RDAS v0.1 is that its left motor is intermittent. Something to do with the tab. Started to take it apart, nothing really worked. I probably can't fix the now loose wires inside of the motor. Also tried to move the gearbox to a similar motor, but the drive gear was slightly different.</p>

        <img src="images/update11/motor_notworking.jpg" />

        <p>Mapped out what pins to use for the motor board and wanted to get the encoders working tonight, but got stuck on the motors for too long. So unfortunately can't use these motors, but I'll work a way around this problem.</p>

        <hr>

        <h3>Re-Making Wheels</h3>

        <p>Tried a lot of ways to make new wheels. Such as driving a screw through the existing plastic wheel hub, and also tried designing a 3d part that can fit around the little nub on the wheel hub. In the end I went with designing a copy of the wheel hub and 3d printing it:</p>

        <img src="images/update11/final_prototyping3_1.jpg" />

        <p>One of the problems of this is that the encoder tabs are not all exact. Some of them are slightly longer than others. It might interfere with the encoders.</p>

        <img src="images/update11/final_prototyping3_2.jpg" />

        <p>This is the side view of the motor assembly. The encoder board sits on the bottom of the encoder clip, where the sensors detect the tabs that spin by.</p>

        <img src="images/update11/final_prototyping3_3.jpg" />

        <p>One of the problems encountered was whenever the motor would spin, sometimes its attachment from the axel of the motor to the wheel would get caught in the wires of the encoder. Also found exposed traces on the encoders (fixed with nail polish).</p>

        <img src="images/update11/wires_caught.jpg" />

        <p>After assembling one of the sides with the wheels on it, tested it and it was able to move!</p>

        <iframe src="https://vine.co/v/eMgL0pjKBmA/embed/simple" width="480" height="480" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>



        <hr>

        <h3>Motor Board</h3>

        <p>Here's how the motor board turned out:</p>

        <img src="images/update11/motor_board.jpg" />

        <p>One of the problems was that sometimes the heat from the iron would cause the pads to lift off. Here you can see it happened with one of the sides where the 0805 1k ohm resistor was going to be soldered:</p>

        <img src="images/update11/final_prototyping4_3.jpg" />

        <p>Here's how the board fits into the main area of the robot:</p>

        <img src="images/update11/final_prototyping4_6.jpg" />

        <p>Todo: Coming soon will be a pinout diagram for the board, and a pcb version so that others can mill their own (and hopefully mill one for this robot too!!!!)</p>



        <hr>

        <h3>Pieces Prototyping</h3>

        <p>Created a revision of the size estimator piece, it now fits:</p>

        <img src="images/update11/final_prototyping5_1.jpg" />

        <p>But the piece didn't really help all that much. Here, the motor is getting stuck on the piece that holds the winch motor for pulling in the sides:</p>

        <img src="images/update11/final_prototyping5_4.jpg" />

        <p>Lucky- the location of this piece was not blocking the wheel of the motor:</p>

        <img src="images/update11/final_prototyping5_5.jpg" />

        <p>This is what the prototyping in process looks like:</p>

        <img src="images/update11/final_prototyping5_6.jpg" />




        <hr>

        <h3>Flexible Panel Piece</h3>

        <p>Rather than using 3 sepparate flex link pieces to attach the "solar" panels together, I wanted to go for one piece. Printed out the design on paper first to try it:</p>

        <img src="images/update11/final_prototyping6_1.jpg" />

        <p>It seemed to work. The test panels will have a piece that clamps the flexible piece together:</p>

        <img src="images/update11/final_prototyping6_2.jpg" />



        <hr>

        <h3>Flexible Side Piece</h3>

        <p>Designing the flex side pieces required some trial and error. The sides are heavier with these motors on it. The flex pieces design from v0.1 was not dampening enough. I tested out differences on the base thickness, and the ribs thickness.</p>

        <img src="images/update11/final_prototyping7_1.jpg" />

        <p>A problem of this change was that the indents in the base and side pieces were not matching. Leaving this gap. The piece is held in with its own screws, but with the corners screwed in it flexed the (rigid) piece, which is bad...</p>

        <img src="images/update11/final_prototyping7_2.jpg" />

        <p>Bending all the flexible pieces:</p>

        <iframe src="https://vine.co/v/eOa712t11wY/embed/simple" width="480" height="480" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>




        <hr>

        <h3>Building up the prototype</h3>

        <p>Added on the other sides to the prototype, this is what it looks like now:</p>

        <img src="images/update11/final_prototyping8_2.jpg" />

        <p>The 3d printer was working well!</p>

        <img src="images/update11/final_prototyping8_3.jpg" />

        <p>Except for this piece - I forgot to disable Cool so on the fine features it wasn't extruding enough (because it was retracting because of Cool). The print was fine after fixing this.</p>

        <img src="images/update11/final_prototyping8_4.jpg" />

        <p>Meep</p>

        <iframe src="https://vine.co/v/eMEQ0KuUKhA/embed/simple" width="480" height="480" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>



        <hr>

        <h3>Folding Panel Flex Pieces</h3>

        <p>This is how the panels fold inwards... pretty dissappointing as they do not fold completely over because of the screws:</p>

        <img src="images/update11/final_prototyping9_1.jpg" />

        <p>They are also smaller than the previous version, because I thought that by adding extra room for the flex piece to bend, that it would help solve it:</p>

        <img src="images/update11/final_prototyping9_2.jpg" />

        <p>Flex view from above</p>

        <img src="images/update11/final_prototyping9_3.jpg" />

        <p>Redesigned it to be the same size as the previous panels. But it won't be able to fold inwards unfortunately</p>

        <img src="images/update11/final_prototyping9_5.jpg" />



        <hr>

        <h3>Sensor Board</h3>

        <p>Here is how the sensor board turned out:</p>

        <img src="images/update11/sensor_board.jpg" />

        <p>Testing it with the sonar sensor and leds:</p>

        <img src="images/update11/final_prototyping10_2.jpg" />

        <p>Todo: Coming soon will be the pinout of the board as well as a pcb file</p>




        <hr>

        <h3>Scratchpad Status Update</h3>

        <p><i>The following was a quick status update at the halfway point before the deadline</i></p>

        <br>

        Status:<br>
        - Prototype assembly seems to be working well<br>
        - Motor board soldered and tested<br>
        - Sensor board soldered and half tested<br>
        - Created an encoder test program<br>
        - Pieces for actual v0.2 assembly all printed<br>

        <br><br>

        Challenges from this weekend:<br>
        - Breaking the motor for the gear motor then having to redesign how to make it work on different motors<br>
        - Glitching arduino pro minis that did not run the program the same way a Sparkfun arduino pro mini would<br>
        - 'Solar' panel folding still doesn't work right because the screws are too large and obstruct the folding<br>
        - Encoders not working as well as they should with the proper wheel rims. Spent a lot of time trying to calibrate the tiny potentiometers. Wrote a test program to collect data, used it for plotting a chart to see how long it would take each encoder to reach 24 ticks using various motor speeds <i>(Pics coming soon)</i><br>
        - Soldering the wires takes a long time...<br>

        <br><br>

        Tasks:<br>
        - Assemble the robot<br>
        - Motor board functions<br>
        - Sensor board functions<br>
        - Motor and sensor board communication<br>
        - Design & print top lock piece<br>
        - Testing<br>
        <i>This might not be reached if not enough time:</i><br>
        - Headband soldering, code<br>
        - Headband communication<br>





        <hr>

        <h3>Both Boards Testing</h3>

        <p>One of the problems I ran in to were the wires underneath the board being long enough to touch the other board that's on the 'shelf' under it:</p>

        <img src="images/update11/final_prototyping11_1.jpg" />

        <p>With the space constraints, there wasn't much of a way to fix this- other than to just be careful when adding the boards.</p>

        <p>Here are both boards being wired together testing in action:</p>

        <img src="images/update11/final_prototyping11_2.jpg" />

        <p>Here are the button boards:</p>

        <img src="images/update11/button_boards.jpg" />




        <hr>

        <h3>Assembling</h3>

        <p>This is the difference between the flex pieces used for the sides, and the sides with the motors on it:</p>

        <img src="images/update11/final_prototyping12_1.jpg" />

        <p>Here are almost all of the pieces:</p>

        <img src="images/update11/final_prototyping12_2.jpg" />

        <p>The base is assembled with the bottom piece that has "sliders" on it, followed by the main base with the indents for the flex pieces, then topped by the vertical attachment piece:</p>

        <img src="images/update11/final_prototyping12_6.jpg" />

        <p>The sides get attached to the flex pieces from here. Similar to the base- there is the main side piece with the indents, then a topper to 'clamp' down everything:</p>

        <img src="images/update11/final_prototyping12_7.jpg" />

        <p>The panel pieces are added next, and the sides are fastened down onto it:</p>

        <img src="images/update11/final_prototyping12_8.jpg" />

        <p>Then the motors and board holders are added:</p>

        <img src="images/update11/final_prototyping12_9.jpg" />

        <p>Finally the sensor piece is added. It has a bit of an error though, because the printed piece is not tilted upwards. Meaning the sensor would not have a good angle at detecting obstacles infront of it. A temporary fix was to add blobs of hot glue to prop it up.</p>

        <img src="images/update11/final_prototyping12_10.jpg" />

        <p>Here is what it all looks like:</p>

        <img src="images/update11/final_prototyping12_11.jpg" />




        <hr>

        <h3>Encoders</h3>

        <p>Todo: Add the graphs and info here</p>





        <hr>

        <h3>Coding</h3>

        <p>Todo: Add a flowchart here</p>




        <hr>

        <h3>First Test</h3>

        <p>First test!!!!!!!!!!!!</p>

        <iframe src="https://vine.co/v/eOZMHBL3xg9/embed/simple" width="480" height="480" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>

        <img src="images/update11/final_prototyping13_1.jpg" />

        <p>This issue is concerning. The wires are touching the Arduino beneath. But there's not really a way to fix it because of the space constraints- if the shelf moves down then the motors won't fold in.</p>

        <img src="images/update11/final_prototyping13_2.jpg" />




        <hr>

        <h3>Networking</h3>

        <p>The sensor board is networked to the Tele-op Headband using an Xbee through the hardware serial uart. I encountered a problem where the Headband was receiving a garbled message:</p>

        <img src="images/update11/final_prototyping14_2.jpg" />

        <p>Seeing how some of the received messages had something similar in them, and it was somewhat long, I decided to double check the sensor board to see if it was sending something out, mistakingly. It was!</p>

        <img src="images/update11/final_prototyping14_3.jpg" />

        <p>Caused by a mistake in my own library... The log levels are enumerated in decreasing presedence -- so the lower it is, then the higher its number. This should only be sent when it's DEBUG or lower, so it should be >=, not <=, which would include all of the log levels.</p>

        <img src="images/update11/final_prototyping14_4.jpg" />

        <p>It solved the problem of sending the "parsing message", but did not solve the problem of not being able to receive the proper text. I have to look in to this problem more. The first things to check will be the wiring on the Xbee breakout boards, it's possible the RX on the Headband became loose. Transmitting from the robot to the headband isn't entirely necessary at this point, so going to move on. Luckily transmitting from the headband to the robot works fine.</p>

        <img src="images/update11/final_prototyping14_5.jpg" />

        <p>RDAS moving forwards with heartbeat from Headband. This feature wasn't included with the demo presentation- but luckily enough because it would probably be going too fast and not noticable as a heartbeat. =)</p>

        <iframe src="https://vine.co/v/eOM9tKdOO1r/embed/simple" width="480" height="480" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>




        <hr>

        <h3>Tele-op Headband</h3>

        <p>To see the making of and more documentation about the Tele-op Headband v0.2, check out <a href="update9.html">this page</a>.</p>

        <p>One of the problems I ran in to with the headband was when nothing was working anymore. I tried so many things to fix it, and in the end the problem was I didn't solder two rows of perfboard together.</p>

        <p>Here's a vine of the Headband sensing movement:</p>

        <iframe src="https://vine.co/v/eO1DrZixaFE/embed/simple" width="480" height="480" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>




        <hr>

        <h3>Final Result</h3>

        <p>Moving around, controlled with the Tele-op Headband!!!!!!</p>

        <iframe src="https://vine.co/v/eO1tMYt0uMb/embed/simple" width="480" height="480" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>

        <p>Here is what the robot looks like folded up. The clips on the top piece were printed with NinjaFlex (TPE)</p>

        <img src="images/update11/final_prototyping16_1.jpg" />

        <p>Unfolded and roving around:</p>

        <img src="images/update11/final_prototyping16_2.jpg" />

        <p>Tele-op Headband and the robot:</p>

        <img src="images/update11/final_prototyping16_3.jpg" />

        <p>Bot out in the wild:</p>

        <img src="images/update11/final_prototyping17_7.jpg" />


        <hr>



        <h3>Electronics</h3>

        <p>Check out the Motor Board v1.0 and Sensor Board v1.0 <a href="project_electronics.html">here</a></p>

        <img src="images/final/electronics/motor_front_oshpark.jpg" />

        <br><br>

        <img src="images/final/electronics/sensor_front_oshpark.jpg" />

        <br><br>


        <hr>


        <p>This page isn't complete, here is the things still to add and do:</p>

        <p>Todo: <br>
          - Add screenshots of design<br>
          - Program flow chart<br>
          <strike>- pcb design of the boards</strike><br>
          - Encoder graphs<br>
          <strike>- Pinout of the boards</strike><br>
          - Printer settings for the materials<br>
          <strike>- Finish the other Headband v0.2 page</strike><br>
          <br>For the next pages:<br>
          - Upload design files<br>
          - Bill of materials<br>
          - Dimensions of robot<br>
          - Weight of robot<br>
          - Evaluation of robot<br>
          - Ideas for making it BETTER!!!!!!<br></p>




        
      </div>

      <div class="col-md-1">
        &nbsp;
      </div>
    </div>


    </div>


    <div id="footer">
    </div>


    <script src="js/bootstrap.min.js"></script>

  </body>
</html>