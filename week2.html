<!--
"Nobody tells this to people who are beginners, I wish someone told me. All of us who do creative work, we get into it because we have good taste. But there is this gap. For the first couple years you make stuff, it’s just not that good. It’s trying to be good, it has potential, but it’s not. But your taste, the thing that got you into the game, is still killer. And your taste is why your work disappoints you. " - Ira Glass
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>RobotGrrl - Fab Academy 2015</title>

    <link href="css/style.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-theme.min.css" rel="stylesheet">

    <script src="js/jquery-1.11.2.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>

    <script>
    function menu() {
      $('#assignments').load("assignments_menu.html");
      $('#project').load("project_menu.html");
      $('#links').load("links_menu.html");
      $('#footer').load("footer.html");
    }
    </script>

  </head>
  <body onload="menu()">


    <!-- nav start -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</pre>
            <span class="icon-bar"></pre>
            <span class="icon-bar"></pre>
            <span class="icon-bar"></pre>
          </button>
          <a class="navbar-brand" href="index.html">RobotGrrl - Fab Academy 2015</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Final Project <span class="caret"></pre></a>
              <ul id="project" class="dropdown-menu" role="menu">
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Assignments <span class="caret"></pre></a>
              <ul id="assignments" class="dropdown-menu" role="menu">
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Links <span class="caret"></pre></a>
              <ul id="links" class="dropdown-menu" role="menu">
              </ul>
            </li>

            <li><a href="about.html">About</a></li>

            <li><a href="http://fabacademy.org" target="_blank">Fab Academy</a></li>
            

          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <!-- nav end -->


    <div class="container">

      <div class="row">

      <div class="col-md-1">
        &nbsp;
      </div>

      <div class="col-md-10">

        <div class="page-header">
          <h3>Computer Aided Design</h3>
        </div>



<h3>Antimony</h3>

<p><a href="https://github.com/mkeeter/antimony" target="_blank">Antimony</a> is a new CAD program — they say it is a CAD tool from a parallel universe. The way that you attach shapes and nodes together is similar to <a href="http://en.wikipedia.org/wiki/Quartz_Composer" target="_blank">Quartz Composer</a>. You can add scripts to quickly create whatever you want. It's fun to play around with when you link parameters together from different shapes. Favourite thing is morphing a function onto shapes, as it creates interesting visual results (which you can then transform even further).
<br><br>
Here are two art models I created. I rendered each one out to a .stl, then opened it in <a href="http://meshlab.sourceforge.net/" target="_blank">Meshlab</a> to take a screenshot. Added a blue tint for colour.</p>

<center><a href="https://www.flickr.com/photos/robotgrrl/16457311446/" target="_blank"><img src="images/week2/antimony_art1_colour.jpg" width="100%" /></a>
<br>
Top view of art 1
</center>

<br><br>

<center><a href="https://www.flickr.com/photos/robotgrrl/16295880080/" target="_blank"><img src="images/week2/antimony_art2_colour.jpg" width="100%" /></a>
<br>
Side view of art 1
</center>

<br><br>

<center><a href="https://www.flickr.com/photos/robotgrrl/16295879930/" target="_blank"><img src="images/week2/antimony_art3_colour.jpg" width="100%" /></a>
<br>
Art 2
</center>

<p>Art 1 was exported at 30 voxels per unit. It has 1721982 verticies and 3442728 faces. <a href="https://github.com/RobotGrrl/fabacademy/blob/master/week2/art1.sb" target="_blank">Here</a> is the .sb file.</p>

<p>Art 2 was exported at 50 voxels per unit. It has 1671477 verticies and 3339794 faces. <a href="https://github.com/RobotGrrl/fabacademy/blob/master/week2/art2.sb" target="_blank">Here</a> is the .sb file.</p>



<h3>On/Off Node in Antimony</h3>

<p>I thought it would be neat if you could turn on and off certain shapes. It's helpful if you want to hide a shape temporarily while designing.
<br><br>
To use it, just attach the input shape to 'a', then attach the output shape to whatever is next (like a transform). Shift + click + slide on <i>on_off</i>, and every odd number it will turn off.
<br><br>
Here is a screenshot:
</p>

<center><a href="https://www.flickr.com/photos/robotgrrl/16482933762/" target="_blank"><img src="images/week2/onoff_demo.jpg" width="100%" /></a>
</center>

<p>
Here is the script, onoff.node:
</p>

<pre class="prettyprint">
import fab.types
import fab.shapes

title('On / Off')
input('a', fab.types.Shape)
input('empty', fab.types.Shape)
input('on_off', int)

if on_off%2 == 0:
  title('On')
  output('shape', a)
else:
  title('Off')
  output('shape', empty)
</pre>

<p>Add it to <i>py/nodes/CSG</i>, remake the code, and now you will be able to access it with Shift + A.</p>




<h3>Robot Base Model</h3>

<p>Here is what I modeled from the final project idea: the robot base.
<br><br>
It's comprised of two parts- the center and the 'piece' (lame name), aka the part with the hinges on it.
<br><br>
Here are all of the parts together from an angled view:</p>

<center><a href="https://www.flickr.com/photos/robotgrrl/16474027006/in/set-72157650315823928" target="_blank"><img src="images/week2/robot_base_model.jpg" width="100%" /></a>
</center>

<p>Here is a top-down cross section view:</p>

<center><a href="https://www.flickr.com/photos/robotgrrl/15877464934/in/set-72157650315823928" target="_blank"><img src="images/week2/robot_base_model_cross.jpg" width="100%" /></a>
</center>

<p>Here is the 3D model of the 'piece' part:</p>

<center><script src="https://embed.github.com/view/3d/RobotGrrl/fabacademy/master/week2/RobotBase_Piece.stl"></script></center>

<p>Here is the 3D model of the center part:</p>

<center><script src="https://embed.github.com/view/3d/RobotGrrl/fabacademy/master/week2/RobotBase_Center.stl"></script></center>

<p>In order to keep the six pieces in place, I created link pieces that will attach to the center piece with screws.
<br><br>
The circles on the bottom of each design are for 3d printing. They are 1 layer height tall (in this case, 0.3mm). Easily removable afterwards, and they improve the first layer adhesion to the build plate.
<br><br>
Here are link #1 and link #2:</p>

<center><a href="https://www.flickr.com/photos/robotgrrl/16498589731/in/set-72157650315823928" target="_blank"><img src="images/week2/link1_link2.jpg" width="100%" /></a>
</center>

<p>The links do not have to be flat, there could also be angled links.
<br><br>
I messed up thinking about this one though, and so the design doesn't actually work because the bend is in the wrong place.</p>

<center><a href="https://www.flickr.com/photos/robotgrrl/16474331946/in/set-72157650315823928/" target="_blank"><img src="images/week2/link3.jpg" width="100%" /></a>
</center>

<p>Here are the design files:</p>

<ul>
<li> <a href="https://github.com/RobotGrrl/fabacademy/blob/master/week2/RobotBase_Center.ipt" target="_blank">RobotBase_Center.ipt</a></li>
<li> <a href="https://github.com/RobotGrrl/fabacademy/blob/master/week2/RobotBase_Piece.ipt" target="_blank">RobotBase_Piece.ipt</a></li>
<li> <a href="https://github.com/RobotGrrl/fabacademy/blob/master/week2/RobotBase_Link1.ipt" target="_blank">RobotBase_Link1.ipt</a></li>
<li> <a href="https://github.com/RobotGrrl/fabacademy/blob/master/week2/RobotBase_Link2.ipt" target="_blank">RobotBase_Link2.ipt</a></li>
<li> <a href="https://github.com/RobotGrrl/fabacademy/blob/master/week2/RobotBase_Link3.ipt" target="_blank">RobotBase_Link3.ipt</a></li>
</ul>



<h3>Parametric Hinges (Autodesk Inventor)</h3>

<p>Here are the parameters I added for creating our hinges:</p>

<center><a href="https://www.flickr.com/photos/robotgrrl/16314104527/in/set-72157650315823928" target="_blank"><img src="images/week2/parameters_menu.jpg" width="100%" /></a>
</center>

<p>Here are how the parameters were used in the design:</p>

<center><a href="https://www.flickr.com/photos/robotgrrl/16498301391/in/set-72157650315823928" target="_blank"><img src="images/week2/hinge_model_parameters.jpg" width="100%" /></a>
</center>





<h3>Assemblies & Simplify Part (Autodesk Inventor)</h3>

<p>I learned an incredibly useful trick this week in Inventor that helps with making the models ready to print. It uses the 'simplify part' option.
<br><br>
Here is our assembly. It consists of 3x AAA battery holders parts that I modeled. They are constrained into a triangle 'holder' part.
<br><br>
The problem is that when I export to .stl as is, there are lines in the model where the pink and green are. The slicer will mess up on this.</p>

<center><a href="https://www.flickr.com/photos/robotgrrl/16314104557/in/set-72157650315823928" target="_blank"><img src="images/week2/before_simplify.jpg" width="100%" /></a>
</center>

<p>After going to the top ribbon menu and selecting Simplify, then pressing Simplify Part, a new Inventor part will be created from this assembly.
<br><br>
All of the lines are fixed, as you can see the model is now one colour.</p>

<center><a href="https://www.flickr.com/photos/robotgrrl/16499017642/in/set-72157650315823928" target="_blank"><img src="images/week2/after_simplify.jpg" width="100%" /></a>
</center>




<h3>Building Antimony</h3>

<p>It was a bit of an adventure to build Antimony. Here are the steps that I did to make it work. <i>(Warning: read through all of this, if you want to try it yourself. Because I documented my stupid mistakes in here as well)</i></p>

<p>Append this to <i>.bash_profile</i>:</p>

<pre class="prettyprint">
# adding homebrew
export PATH=/usr/local/bin:/usr/local/sbin:~/bin:$PATH
</pre>

<p>Close & open a new terminal window and type:</p>

<pre class="prettyprint">
echo $PATH
</pre>

<p>Should see that <i>/usr/local/bin</i> is first</p>

<p>Now can link python</p>

<pre class="prettyprint">
brew link python3
</pre>

<p>Checking what the path is for python3</p>

<pre class="prettyprint">
which python3
/usr/local/bin/python3
</pre>

<p>Now time to make it (prior to this: cd into the repository, create the build directory, cd into it)</p>

<pre class="prettyprint">
/usr/local/Cellar/qt5/5.4.*/bin/qmake ../qt/antimony.pro
make -j8
</pre>

<p>It builds, but there is a new error when trying to open the app:</p>

<pre class="prettyprint">
Dyld Error Message:
Library not loaded: /usr/local/Frameworks/Python.framework/Versions/3.3/Python
Referenced from: /usr/local/lib/libboost_python3.dylib
Reason: image not found
</pre>

<p>Logged the console output of make to a file <i>(make -j8 > log.txt 2&gt;&1)</i>, and searched for python. It seemed fine, always in the Cellar path... Let's see what python versions there are:</p>

<pre class="prettyprint">
cd /usr/local/Frameworks/Python.framework/Versions
ls
2.7  3.4 Current
</pre>

<p>It appears as though the problem is that there is no 3.3, there is a 3.4.
  <br>
First I tried cheating with a symbolic link to see if it would work...</p>

<pre class="prettyprint">
ln -s 3.4 3.3
</pre>

<p>and <i>ls -l</i> to verify that it worked.
  <br>
cd back into the repository. Remove the build directory, start over, rebuild.
  <br>
This time, opening atimony.app works! But then it crashes right after opening. Dang.
</p>

<pre class="prettyprint">
Thread 0 Crashed:: Dispatch queue: com.apple.main-thread
0   ???                             0x0000000000000001 0 + 1
1   org.python.python               0x000000010fe64946 PyObject_CallFinalizer + 55
2   org.python.python               0x000000010fe64977 PyObject_CallFinalizerFromDealloc + 30
3   org.python.python               0x000000010fe70256 subtype_dealloc + 267
</pre>

<p>Undo our symbolic link:</p>

<pre class="prettyprint">
cd /usr/local/Frameworks/Python.framework/Versions
rm 3.3
</pre>

<p>Uninstall python3:</p>

<pre class="prettyprint">
brew uninstall python3
</pre>

<p>Someone has already created a <a href="https://gist.github.com/dnozay/231a037d53e14052ccd6#file-python33-rb" target="_blank">brew formulae</a> for 3.3.
  <br>
Edit the name of the file to python3, and the class name to be just Python3.
</p>

<pre class="prettyprint">
cd /usr/local/Library/Formula
cp ~/Desktop/python3.rb python3.rb
</pre>

<p>Now install python3 again with this new formulae. The debug flag will output more text, so you can see if something messes up</p>

<pre class="prettyprint">
brew install --debug python3.rb
</pre>

<p>Check to make sure that it is 3.3</p>

<pre class="prettyprint">
cd /usr/local/Frameworks/Python.framework/Versions
ls
</pre>

<p>Another thing to do, check that there is a python3-config file. There is a python3.3-config, but not a python3-config. Symbolic linking here should work:</p>

<pre class="prettyprint">
cd /usr/local/bin
ln -s python3.3-config python3-config
</pre>

<p>Go back to the repository, remove the build directory, start over, build it...</p>

<p>It builds! Opening antimony.app works, and it doesn't crash! Let's add a torus to celebrate.</p>

<p>I didn't see a torus in the menu, but it is already a <a href="https://github.com/mkeeter/antimony/issues/3" target="_blank">resolved issue</a> (cool!). Solved it by running make again.</p>






<h3>Design Files</h3>

<p>You can find all of the source files in my <a href="https://github.com/RobotGrrl/fabacademy/tree/master/week2" target="_blank">repository</a></p>



      </div>

      <div class="col-md-1">
        &nbsp;
      </div>
    </div>


    </div>


    <div id="footer">
    </div>


    <script src="js/bootstrap.min.js"></script>

  </body>
</html>