
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>RobotGrrl - Fab Academy 2015</title>

    <link href="css/style.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-theme.min.css" rel="stylesheet">

    <script src="js/jquery-1.11.2.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>

    <script>
    function menu() {
      $('#assignments').load("assignments_menu.html");
      $('#project').load("project_menu.html");
      $('#links').load("links_menu.html");
      $('#footer').load("footer.html");
    }
    </script>

  </head>
  <body onload="menu()">


    <!-- nav start -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</pre>
            <span class="icon-bar"></pre>
            <span class="icon-bar"></pre>
            <span class="icon-bar"></pre>
          </button>
          <a class="navbar-brand" href="index.html">RobotGrrl - Fab Academy 2015</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Final Project <span class="caret"></pre></a>
              <ul id="project" class="dropdown-menu" role="menu">
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Assignments <span class="caret"></pre></a>
              <ul id="assignments" class="dropdown-menu" role="menu">
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Links <span class="caret"></pre></a>
              <ul id="links" class="dropdown-menu" role="menu">
              </ul>
            </li>

            <li><a href="about.html">About</a></li>

            <li><a href="http://fabacademy.org" target="_blank">Fab Academy</a></li>
            

          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <!-- nav end -->


    <div class="container">

      <div class="row">

      <div class="col-md-1">
        &nbsp;
      </div>

      <div class="col-md-10">

        <div class="page-header">
          <h3>Computer Generated Robot Flex Piece</h3><br>
          <b>(aka Curl Mechanism pt 2)</b>
        </div>


<img src="images/update6/curled_mechs.jpg" />
<br><br>
<img src="images/update6/code_model.jpg" />
<br>


<hr>

<h3>Why</h3>

<p>I was wondering if a robot’s behaviour could be programmed in its materials.</p>

<p>What if the flex piece was generated by a computer program. The robot’s behaviour stays the same, but the flexible piece changes, which makes the way it “eats” the light different.</p>




<hr>

<h3>Making of</h3>

<p>Continuing from update 5, with the data from the two robots with different flex pieces I started to write a program that outputs what the parameters should be for a given input. The input is the location of a ldr sensor.</p>

<p>Ported the flex piece from Inventor to Antimony. It turned out to be better, because the pattern for the holes was easier to adjust given if the length changes.</p>

<p>The code of the robot tells the motor to reel in when the ldr does not see the light. When it does see the light, then reel out. The light is on for 3 secs, then off for 3 secs.</p>

<p>What changes with these robots is the actual observed behaviour, because of the flex piece.</p>

<img src="images/update6/flex_sb_model.jpg" />

<p>The program modifies the length of the flexible piece, and the depth of the three ribs. The ribs are used to provide the return, and the longer the piece is chances are it will flop over.</p>

<p>Here was the first piece printed out that was created by a computer program!</p>

<img src="images/update6/first_gen_print.jpg" />

<p>The recipe of that one was:</p>

<pre class="prettyprint">
5-1-2:40-4-4-2:213-50-15:epicurl
</pre>

<p>The program outputs a recipe of the robot! :)</p>

<p>Here’s what a different robot looks like (6-1-2:40-4-8-4:213-100-10:zzmm):</p>

<p>Uncurled:</p>

<img src="images/update6/uncurled.jpg" />


<p>Curled:</p>

<img src="images/update6/curled.jpg" />


<p>Here’s a short video of one of the robots in action:</p>

<object type="application/x-shockwave-flash" width="400" height="225" data="https://www.flickr.com/apps/video/stewart.swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"><param name="flashvars" value="intl_lang=en-US&photo_secret=110b9047e8&photo_id=16955514242&hd_default=false"></param><param name="movie" value="https://www.flickr.com/apps/video/stewart.swf"></param><param name="bgcolor" value="#000000"></param><param name="allowFullScreen" value="true"></param><embed type="application/x-shockwave-flash" src="https://www.flickr.com/apps/video/stewart.swf" bgcolor="#000000" allowfullscreen="true" flashvars="intl_lang=en-US&photo_secret=110b9047e8&photo_id=16955514242&hd_default=false" width="400" height="225"></embed></object>

<p>(Sorry forgot to take a video of all of the robots moving)</p>

<p>Here’s a group shot of the robots. Their names are: Yllo, Epicurl, Eool, and Fun:</p>

<img src="images/update6/curl_group_robots.jpg" />




<hr>

<h3>Python + Antimony</h3>

<p>To create a python script that modifies an Antimony file, first created a template .sb file.</p>

<p>The bulk of the curl mech gen python script is just the “calculations” and prompting for user input. So here is how it modifies the Antimony template. It’s looking for the node named dim, because in Antimony this is a script node with all of my parameters in it.
After it finds it, it’s just very simple to set the data and save it.</p>

<pre class="prettyprint">
def generateSbModel():

  with open(antimony_file, "r+") as json_file:

    json_data = json.load(json_file)

    #print(json_data['connections'])
    #print(len(json_data['nodes']))

    nodes = json_data['nodes']
    name = "-"
    dim_index = 99

    for j in range(0, len(nodes)):
      datums = nodes[j]['datums']

      for i in range(0, len(datums)):
        meep = datums[i]
        if meep['name'] == "__name":
          name = meep['expr']
          #print(name)

          if name == "dim":
            dim_index = j
          
          break


    dim_datum = nodes[dim_index]['datums']

    for i in range(0, len(dim_datum)):
      meep = dim_datum[i]

      # it seems like all the variables in the .sb file
      # for expr are strings, so just going to set 
      # them all as strings too

      if meep['name'] == "length":
        json_data['nodes'][dim_index]['datums'][i]['expr'] = str(length) 

      if meep['name'] == "rib_l":
        json_data['nodes'][dim_index]['datums'][i]['expr'] = str(rib_l)

      if meep['name'] == "rib_m":
        json_data['nodes'][dim_index]['datums'][i]['expr'] = str(rib_m)

      if meep['name'] == "rib_r":
        json_data['nodes'][dim_index]['datums'][i]['expr'] = str(rib_r)


    json_file.seek(0)
    json.dump(json_data, json_file, indent=4)
</pre>




<hr>

<h3>Future</h3>

<p>Definitely want to keep exploring more about this idea. It’s just a start! Originally wanted more links so the generated robot could maybe move when it curls up. It would be interesting to see if these could be generated with a specific end effector, to do some task, then immediately curl up to protect it and use the locomotion to spin away.</p>



<hr>

<h3>Source Files</h3>

<p>The source files can be found <a href="https://github.com/RobotGrrl/fabacademy/tree/master/curlmech_v0.1" target="_blank">here</a></p>



<hr>

<h3>Mistakes made</h3>

<ul>
<li> Using 3 screws to attach the flex piece instead of 2 screws and a bar between them. It would clamp more of the piece down, so it’s possible that some of the movement would be a tiny bit different</li>
<li> Fun (the robot mentioned above) doesn’t work for some reason. Think there is something wrong with my soldering, but haven’t had the chance to check just yet. Ironic name...</li>
</ul>



<hr>

<h3>Lessons learned</h3>

<ul>
<li> Next time I try something like this, it might be better to have some more test examples to have data to base the program around</li>

<li> The return on the piece has to be quite strong. Releasing the fishing line does not push the mechanism back into place.</li>

<li> The left/right ribs and movement idea didn’t work out that great. Maybe next time try exploring it more to make one work first, then create the program from it</li>

<li> It was so exciting when my first piece made by a computer program finished working and then was attached to the robot and worked!!!!!!</li>
</ul>


<hr>

<h3>Still wondering about</h3>

<ul>
<li> Areas where this can be useful in real life</li>

<li> How to simulate flexible pieces to see how they move -- in Inventor or another program</li>

<li> If it’s possible that there could be specific styles of robot that can emerge from the program, then within each style there could be subtle differences. Each style would behave differently, and the subtle differences could make each robot unique.</li>
</ul>



      </div>

      <div class="col-md-1">
        &nbsp;
      </div>
    </div>


    </div>


    <div id="footer">
    </div>


    <script src="js/bootstrap.min.js"></script>

  </body>
</html>